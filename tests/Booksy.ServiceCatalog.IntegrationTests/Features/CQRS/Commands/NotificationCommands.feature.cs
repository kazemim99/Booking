// ------------------------------------------------------------------------------
//  <auto-generated>
//      This code was generated by Reqnroll (https://www.reqnroll.net/).
//      Reqnroll Version:2.0.0.0
//      Reqnroll Generator Version:2.0.0.0
// 
//      Changes to this file may cause incorrect behavior and will be lost if
//      the code is regenerated.
//  </auto-generated>
// ------------------------------------------------------------------------------
#region Designer generated code
#pragma warning disable
namespace Booksy.ServiceCatalog.IntegrationTests.Features.CQRS.Commands
{
    using Reqnroll;
    using System;
    using System.Linq;
    
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Reqnroll", "2.0.0.0")]
    [System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
    public partial class NotificationCommandHandlers_CompleteCoverageFeature : object, Xunit.IClassFixture<NotificationCommandHandlers_CompleteCoverageFeature.FixtureData>, Xunit.IAsyncLifetime
    {
        
        private global::Reqnroll.ITestRunner testRunner;
        
        private static string[] featureTags = ((string[])(null));
        
        private static global::Reqnroll.FeatureInfo featureInfo = new global::Reqnroll.FeatureInfo(new System.Globalization.CultureInfo("en"), "Features/CQRS/Commands", "Notification Command Handlers - Complete Coverage", ("  As a system\r\n  I want to test all notification command handlers\r\n  So that ever" +
                "y code path and validation is covered"), global::Reqnroll.ProgrammingLanguage.CSharp, featureTags);
        
        private Xunit.Abstractions.ITestOutputHelper _testOutputHelper;
        
        public NotificationCommandHandlers_CompleteCoverageFeature(NotificationCommandHandlers_CompleteCoverageFeature.FixtureData fixtureData, Xunit.Abstractions.ITestOutputHelper testOutputHelper)
        {
            this._testOutputHelper = testOutputHelper;
        }
        
        public static async System.Threading.Tasks.Task FeatureSetupAsync()
        {
        }
        
        public static async System.Threading.Tasks.Task FeatureTearDownAsync()
        {
        }
        
        public async System.Threading.Tasks.Task TestInitializeAsync()
        {
            testRunner = global::Reqnroll.TestRunnerManager.GetTestRunnerForAssembly(featureHint: featureInfo);
            if (((testRunner.FeatureContext != null) 
                        && (testRunner.FeatureContext.FeatureInfo.Equals(featureInfo) == false)))
            {
                await testRunner.OnFeatureEndAsync();
            }
            if ((testRunner.FeatureContext == null))
            {
                await testRunner.OnFeatureStartAsync(featureInfo);
            }
        }
        
        public async System.Threading.Tasks.Task TestTearDownAsync()
        {
            await testRunner.OnScenarioEndAsync();
            global::Reqnroll.TestRunnerManager.ReleaseTestRunner(testRunner);
        }
        
        public void ScenarioInitialize(global::Reqnroll.ScenarioInfo scenarioInfo)
        {
            testRunner.OnScenarioInitialize(scenarioInfo);
            testRunner.ScenarioContext.ScenarioContainer.RegisterInstanceAs<Xunit.Abstractions.ITestOutputHelper>(_testOutputHelper);
        }
        
        public async System.Threading.Tasks.Task ScenarioStartAsync()
        {
            await testRunner.OnScenarioStartAsync();
        }
        
        public async System.Threading.Tasks.Task ScenarioCleanupAsync()
        {
            await testRunner.CollectScenarioErrorsAsync();
        }
        
        public virtual async System.Threading.Tasks.Task FeatureBackgroundAsync()
        {
            await testRunner.GivenAsync("a provider \"Test Provider\" exists with active status", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
            await testRunner.AndAsync("I am authenticated as a customer", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
        }
        
        async System.Threading.Tasks.Task Xunit.IAsyncLifetime.InitializeAsync()
        {
            await this.TestInitializeAsync();
        }
        
        async System.Threading.Tasks.Task Xunit.IAsyncLifetime.DisposeAsync()
        {
            await this.TestTearDownAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Send email notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Send email notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "email")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SendEmailNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "email",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Send email notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table23 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table23.AddRow(new string[] {
                            "RecipientId",
                            "[Customer:Id]"});
                table23.AddRow(new string[] {
                            "Type",
                            "BookingConfirmation"});
                table23.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table23.AddRow(new string[] {
                            "Subject",
                            "Booking Confirmed"});
                table23.AddRow(new string[] {
                            "Body",
                            "Your booking has been confirmed"});
                table23.AddRow(new string[] {
                            "Priority",
                            "High"});
                table23.AddRow(new string[] {
                            "RecipientEmail",
                            "customer@test.com"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table23, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("a Notification aggregate should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification should be queued", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the email service should be invoked", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("NotificationSentEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Send SMS notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Send SMS notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "sms")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SendSMSNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "sms",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Send SMS notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table24 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table24.AddRow(new string[] {
                            "Type",
                            "BookingReminder"});
                table24.AddRow(new string[] {
                            "Channel",
                            "SMS"});
                table24.AddRow(new string[] {
                            "Body",
                            "Appointment tomorrow"});
                table24.AddRow(new string[] {
                            "Priority",
                            "Normal"});
                table24.AddRow(new string[] {
                            "RecipientPhone",
                            "+1234567890"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table24, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the SMS service should be invoked", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification should be sent", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Send push notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Send push notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "push")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SendPushNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "push",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Send push notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table25 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table25.AddRow(new string[] {
                            "Type",
                            "PaymentReceived"});
                table25.AddRow(new string[] {
                            "Channel",
                            "PushNotification"});
                table25.AddRow(new string[] {
                            "Subject",
                            "Payment Received"});
                table25.AddRow(new string[] {
                            "Body",
                            "Your payment was successful"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table25, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the push notification service should be invoked", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Send in-app notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Send in-app notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "in-app")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SendIn_AppNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "in-app",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Send in-app notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table26 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table26.AddRow(new string[] {
                            "Type",
                            "NewMessage"});
                table26.AddRow(new string[] {
                            "Channel",
                            "InApp"});
                table26.AddRow(new string[] {
                            "Subject",
                            "New message from provider"});
                table26.AddRow(new string[] {
                            "Body",
                            "You have a new message"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table26, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the in-app notification service should be invoked", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Email channel requires recipient email")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Email channel requires recipient email")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "missing-email")]
        public async System.Threading.Tasks.Task SendNotificationCommand_EmailChannelRequiresRecipientEmail()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "validation",
                    "missing-email"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Email channel requires recipient email", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table27 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table27.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table27.AddRow(new string[] {
                            "Subject",
                            "Test"});
                table27.AddRow(new string[] {
                            "Body",
                            "Test"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table27, "When ");
                await testRunner.AndAsync("no recipient email is provided", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should fail with InvalidOperationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"Recipient email is required\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - SMS channel requires recipient phone")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - SMS channel requires recipient phone")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "missing-phone")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SMSChannelRequiresRecipientPhone()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "validation",
                    "missing-phone"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - SMS channel requires recipient phone", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table28 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table28.AddRow(new string[] {
                            "Channel",
                            "SMS"});
                table28.AddRow(new string[] {
                            "Body",
                            "Test"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table28, "When ");
                await testRunner.AndAsync("no recipient phone is provided", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should fail with InvalidOperationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"Recipient phone is required\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Unsupported channel")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Unsupported channel")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "unsupported-channel")]
        public async System.Threading.Tasks.Task SendNotificationCommand_UnsupportedChannel()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "validation",
                    "unsupported-channel"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Unsupported channel", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute SendNotificationCommand with channel \"InvalidChannel\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with NotSupportedException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"not supported\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Use template with data")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Use template with data")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "template")]
        public async System.Threading.Tasks.Task SendNotificationCommand_UseTemplateWithData()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "template"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Use template with data", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table29 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table29.AddRow(new string[] {
                            "TemplateId",
                            "booking_confirmation"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table29, "When ");
                global::Reqnroll.Table table30 = new global::Reqnroll.Table(new string[] {
                            "Variable",
                            "Value"});
                table30.AddRow(new string[] {
                            "customerName",
                            "John Doe"});
                table30.AddRow(new string[] {
                            "serviceName",
                            "Haircut"});
                table30.AddRow(new string[] {
                            "bookingTime",
                            "Tomorrow 2PM"});
                await testRunner.AndAsync("template data:", ((string)(null)), table30, "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should use the template", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the template data should be applied", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Link to related entities")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Link to related entities")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "related-entities")]
        public async System.Threading.Tasks.Task SendNotificationCommand_LinkToRelatedEntities()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "related-entities"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Link to related entities", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table31 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table31.AddRow(new string[] {
                            "BookingId",
                            "[Booking:Id]"});
                table31.AddRow(new string[] {
                            "PaymentId",
                            "[Payment:Id]"});
                table31.AddRow(new string[] {
                            "ProviderId",
                            "[Provider:Id]"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table31, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be linked to the booking", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification should be linked to the payment", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification should be linked to the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Include custom metadata")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Include custom metadata")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "metadata")]
        public async System.Threading.Tasks.Task SendNotificationCommand_IncludeCustomMetadata()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "metadata"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Include custom metadata", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table32 = new global::Reqnroll.Table(new string[] {
                            "Key",
                            "Value"});
                table32.AddRow(new string[] {
                            "campaign_id",
                            "summer_promo"});
                table32.AddRow(new string[] {
                            "tracking_code",
                            "ABC123"});
                table32.AddRow(new string[] {
                            "source",
                            "mobile_app"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with metadata:", ((string)(null)), table32, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should include the metadata", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Set recipient contact information")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Set recipient contact information")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "recipient-info")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SetRecipientContactInformation()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "recipient-info"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Set recipient contact information", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table33 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table33.AddRow(new string[] {
                            "RecipientEmail",
                            "john@test.com"});
                table33.AddRow(new string[] {
                            "RecipientPhone",
                            "+1234567890"});
                table33.AddRow(new string[] {
                            "RecipientName",
                            "John Doe"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table33, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification recipient info should be set", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Email service fails but notification is saved")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Email service fails but notification is saved")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "error-handling")]
        [Xunit.TraitAttribute("Category", "service-failure")]
        public async System.Threading.Tasks.Task SendNotificationCommand_EmailServiceFailsButNotificationIsSaved()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "error-handling",
                    "service-failure"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Email service fails but notification is saved", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute SendNotificationCommand to send email", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.AndAsync("the email service fails with error \"SMTP connection failed\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be saved to database", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification status should be \"Failed\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the error message should be saved", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification can be retried later", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - SMS service fails")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - SMS service fails")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "error-handling")]
        [Xunit.TraitAttribute("Category", "sms-failure")]
        public async System.Threading.Tasks.Task SendNotificationCommand_SMSServiceFails()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "error-handling",
                    "sms-failure"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - SMS service fails", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute SendNotificationCommand to send SMS", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.AndAsync("the SMS service fails with error \"Invalid phone number\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be marked as failed", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the error should be logged", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Service returns message ID")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Service returns message ID")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "delivery-confirmation")]
        public async System.Threading.Tasks.Task SendNotificationCommand_ServiceReturnsMessageID()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "delivery-confirmation"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Service returns message ID", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute SendNotificationCommand to send email", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.AndAsync("the email service succeeds with message ID \"msg_abc123\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be marked as delivered", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the gateway message ID should be \"msg_abc123\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendNotificationCommand - Include plain text body for emails")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendNotificationCommand - Include plain text body for emails")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "plain-text")]
        public async System.Threading.Tasks.Task SendNotificationCommand_IncludePlainTextBodyForEmails()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "send",
                    "business-logic",
                    "plain-text"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendNotificationCommand - Include plain text body for emails", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table34 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table34.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table34.AddRow(new string[] {
                            "Body",
                            "<h1>HTML Content</h1>"});
                table34.AddRow(new string[] {
                            "PlainTextBody",
                            "Plain text version"});
                await testRunner.WhenAsync("I execute SendNotificationCommand with:", ((string)(null)), table34, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("both HTML and plain text should be sent", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ScheduleNotificationCommand - Schedule future notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ScheduleNotificationCommand - Schedule future notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "schedule")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task ScheduleNotificationCommand_ScheduleFutureNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "schedule",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ScheduleNotificationCommand - Schedule future notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table35 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table35.AddRow(new string[] {
                            "Type",
                            "BookingReminder"});
                table35.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table35.AddRow(new string[] {
                            "Subject",
                            "Upcoming Appointment"});
                table35.AddRow(new string[] {
                            "Body",
                            "Your appointment is tomorrow"});
                table35.AddRow(new string[] {
                            "ScheduledFor",
                            "tomorrow at 09:00"});
                await testRunner.WhenAsync("I execute ScheduleNotificationCommand with:", ((string)(null)), table35, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be scheduled for tomorrow at 09:00", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification status should be \"Scheduled\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("NotificationScheduledEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ScheduleNotificationCommand - Cannot schedule in the past")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ScheduleNotificationCommand - Cannot schedule in the past")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "schedule")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "past-time")]
        public async System.Threading.Tasks.Task ScheduleNotificationCommand_CannotScheduleInThePast()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "schedule",
                    "validation",
                    "past-time"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ScheduleNotificationCommand - Cannot schedule in the past", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table36 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table36.AddRow(new string[] {
                            "ScheduledFor",
                            "yesterday"});
                await testRunner.WhenAsync("I execute ScheduleNotificationCommand with:", ((string)(null)), table36, "When ");
                await testRunner.ThenAsync("the command should fail with ValidationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"cannot schedule in the past\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ScheduleNotificationCommand - Schedule with timezone")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ScheduleNotificationCommand - Schedule with timezone")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "schedule")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "timezone")]
        public async System.Threading.Tasks.Task ScheduleNotificationCommand_ScheduleWithTimezone()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "schedule",
                    "business-logic",
                    "timezone"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ScheduleNotificationCommand - Schedule with timezone", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table37 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table37.AddRow(new string[] {
                            "ScheduledFor",
                            "2025-02-01 10:00 PST"});
                await testRunner.WhenAsync("I execute ScheduleNotificationCommand with:", ((string)(null)), table37, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be scheduled in Pacific timezone", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ScheduleNotificationCommand - Schedule notification with template")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ScheduleNotificationCommand - Schedule notification with template")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "schedule")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "template")]
        public async System.Threading.Tasks.Task ScheduleNotificationCommand_ScheduleNotificationWithTemplate()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "schedule",
                    "business-logic",
                    "template"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ScheduleNotificationCommand - Schedule notification with template", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table38 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table38.AddRow(new string[] {
                            "TemplateId",
                            "appointment_reminder"});
                await testRunner.WhenAsync("I execute ScheduleNotificationCommand with:", ((string)(null)), table38, "When ");
                await testRunner.AndAsync("template data for scheduled notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the template should be applied when sent", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - Send to multiple recipients")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - Send to multiple recipients")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_SendToMultipleRecipients()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - Send to multiple recipients", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("there are 10 customers", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                global::Reqnroll.Table table39 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table39.AddRow(new string[] {
                            "Type",
                            "Announcement"});
                table39.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table39.AddRow(new string[] {
                            "Subject",
                            "New Services Available"});
                table39.AddRow(new string[] {
                            "Body",
                            "Check out our services"});
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand with:", ((string)(null)), table39, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("10 notifications should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("all notifications should be queued", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("BulkNotificationSentEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - No recipients provided")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - No recipients provided")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "empty-recipients")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_NoRecipientsProvided()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "validation",
                    "empty-recipients"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - No recipients provided", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand with no recipients", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with ValidationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"at least one recipient\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - Filter recipients by criteria")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - Filter recipients by criteria")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "filters")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_FilterRecipientsByCriteria()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "business-logic",
                    "filters"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - Filter recipients by criteria", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("there are 20 customers", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                global::Reqnroll.Table table40 = new global::Reqnroll.Table(new string[] {
                            "Filter",
                            "Value"});
                table40.AddRow(new string[] {
                            "CustomerType",
                            "VIP"});
                table40.AddRow(new string[] {
                            "HasActiveBooking",
                            "true"});
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand with filters:", ((string)(null)), table40, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("only matching customers should receive notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - Only providers can send bulk to their customers")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - Only providers can send bulk to their customers")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "authorization")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_OnlyProvidersCanSendBulkToTheirCustomers()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "authorization"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - Only providers can send bulk to their customers", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as a customer", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with ForbiddenException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - Respect rate limits")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - Respect rate limits")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "rate-limiting")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_RespectRateLimits()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "business-logic",
                    "rate-limiting"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - Respect rate limits", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand to 1000 recipients", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("notifications should be queued in batches", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("rate limiting should be applied", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="SendBulkNotificationCommand - Some notifications fail")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "SendBulkNotificationCommand - Some notifications fail")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        [Xunit.TraitAttribute("Category", "error-handling")]
        [Xunit.TraitAttribute("Category", "partial-failure")]
        public async System.Threading.Tasks.Task SendBulkNotificationCommand_SomeNotificationsFail()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "bulk",
                    "error-handling",
                    "partial-failure"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("SendBulkNotificationCommand - Some notifications fail", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("there are 10 customers", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.WhenAsync("I execute SendBulkNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.AndAsync("3 notifications fail to send", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("7 notifications should be delivered", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("3 notifications should be marked as failed", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("retry should be scheduled for failed notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="CancelNotificationCommand - Cancel scheduled notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "CancelNotificationCommand - Cancel scheduled notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task CancelNotificationCommand_CancelScheduledNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "cancel",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("CancelNotificationCommand - Cancel scheduled notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a scheduled notification for tomorrow", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute CancelNotificationCommand with reason \"Customer cancelled appointment\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification status should be \"Cancelled\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the cancellation reason should be saved", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("NotificationCancelledEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="CancelNotificationCommand - Notification not found")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "CancelNotificationCommand - Notification not found")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "notification-not-found")]
        public async System.Threading.Tasks.Task CancelNotificationCommand_NotificationNotFound()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "cancel",
                    "validation",
                    "notification-not-found"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("CancelNotificationCommand - Notification not found", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute CancelNotificationCommand with non-existent notification ID", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with NotFoundException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="CancelNotificationCommand - Cannot cancel already sent notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "CancelNotificationCommand - Cannot cancel already sent notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "already-sent")]
        public async System.Threading.Tasks.Task CancelNotificationCommand_CannotCancelAlreadySentNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "cancel",
                    "validation",
                    "already-sent"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("CancelNotificationCommand - Cannot cancel already sent notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a sent notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute CancelNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with InvalidOperationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"already sent\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="CancelNotificationCommand - Already cancelled notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "CancelNotificationCommand - Already cancelled notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        [Xunit.TraitAttribute("Category", "idempotency")]
        public async System.Threading.Tasks.Task CancelNotificationCommand_AlreadyCancelledNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "cancel",
                    "idempotency"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("CancelNotificationCommand - Already cancelled notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a cancelled notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute CancelNotificationCommand again", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("no state change should occur", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="CancelNotificationCommand - Only notification owner can cancel")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "CancelNotificationCommand - Only notification owner can cancel")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        [Xunit.TraitAttribute("Category", "authorization")]
        public async System.Threading.Tasks.Task CancelNotificationCommand_OnlyNotificationOwnerCanCancel()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "cancel",
                    "authorization"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("CancelNotificationCommand - Only notification owner can cancel", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("another user has a scheduled notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I try to cancel their notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with ForbiddenException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Resend failed notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Resend failed notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_ResendFailedNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Resend failed notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a failed notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute ResendNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("a new notification attempt should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification service should be invoked again", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("NotificationResentEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Notification not found")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Notification not found")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "notification-not-found")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_NotificationNotFound()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "validation",
                    "notification-not-found"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Notification not found", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute ResendNotificationCommand with non-existent notification ID", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with NotFoundException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Increment retry count")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Increment retry count")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "increment-attempts")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_IncrementRetryCount()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "business-logic",
                    "increment-attempts"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Increment retry count", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a failed notification with 2 retry attempts", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute ResendNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the retry count should be 3", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Maximum retries exceeded")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Maximum retries exceeded")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "max-retries")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_MaximumRetriesExceeded()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "validation",
                    "max-retries"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Maximum retries exceeded", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a failed notification with 5 retry attempts", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute ResendNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with InvalidOperationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"maximum retries\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Cannot resend delivered notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Cannot resend delivered notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "delivered")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_CannotResendDeliveredNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "business-logic",
                    "delivered"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Cannot resend delivered notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there is a delivered notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute ResendNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with InvalidOperationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"already delivered\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="ResendNotificationCommand - Admin can resend any notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "ResendNotificationCommand - Admin can resend any notification")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        [Xunit.TraitAttribute("Category", "authorization")]
        public async System.Threading.Tasks.Task ResendNotificationCommand_AdminCanResendAnyNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "resend",
                    "authorization"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("ResendNotificationCommand - Admin can resend any notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as an admin", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("there is a failed notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.WhenAsync("I execute ResendNotificationCommand", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="UpdatePreferencesCommand - Update notification preferences")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "UpdatePreferencesCommand - Update notification preferences")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        [Xunit.TraitAttribute("Category", "update")]
        [Xunit.TraitAttribute("Category", "happy-path")]
        public async System.Threading.Tasks.Task UpdatePreferencesCommand_UpdateNotificationPreferences()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "preferences",
                    "update",
                    "happy-path"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("UpdatePreferencesCommand - Update notification preferences", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table41 = new global::Reqnroll.Table(new string[] {
                            "Preference",
                            "Value"});
                table41.AddRow(new string[] {
                            "EmailEnabled",
                            "true"});
                table41.AddRow(new string[] {
                            "SmsEnabled",
                            "false"});
                table41.AddRow(new string[] {
                            "PushEnabled",
                            "true"});
                await testRunner.WhenAsync("I execute UpdatePreferencesCommand with:", ((string)(null)), table41, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("my notification preferences should be updated", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("PreferencesUpdatedEvent should be published", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="UpdatePreferencesCommand - Disable SMS notifications")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "UpdatePreferencesCommand - Disable SMS notifications")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        [Xunit.TraitAttribute("Category", "update")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "channel-disable")]
        public async System.Threading.Tasks.Task UpdatePreferencesCommand_DisableSMSNotifications()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "preferences",
                    "update",
                    "business-logic",
                    "channel-disable"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("UpdatePreferencesCommand - Disable SMS notifications", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have SMS notifications enabled", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I execute UpdatePreferencesCommand to disable SMS", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("future SMS notifications should not be sent to me", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("I should receive email notifications instead", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="UpdatePreferencesCommand - Opt out of marketing notifications")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "UpdatePreferencesCommand - Opt out of marketing notifications")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        [Xunit.TraitAttribute("Category", "update")]
        [Xunit.TraitAttribute("Category", "business-logic")]
        [Xunit.TraitAttribute("Category", "opt-out")]
        public async System.Threading.Tasks.Task UpdatePreferencesCommand_OptOutOfMarketingNotifications()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "preferences",
                    "update",
                    "business-logic",
                    "opt-out"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("UpdatePreferencesCommand - Opt out of marketing notifications", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table42 = new global::Reqnroll.Table(new string[] {
                            "Preference",
                            "Value"});
                table42.AddRow(new string[] {
                            "MarketingEnabled",
                            "false"});
                await testRunner.WhenAsync("I execute UpdatePreferencesCommand with:", ((string)(null)), table42, "When ");
                await testRunner.ThenAsync("the command should succeed", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("I should not receive marketing notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("I should still receive transactional notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="UpdatePreferencesCommand - At least one channel must be enabled")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "UpdatePreferencesCommand - At least one channel must be enabled")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        [Xunit.TraitAttribute("Category", "update")]
        [Xunit.TraitAttribute("Category", "validation")]
        [Xunit.TraitAttribute("Category", "required-channel")]
        public async System.Threading.Tasks.Task UpdatePreferencesCommand_AtLeastOneChannelMustBeEnabled()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "preferences",
                    "update",
                    "validation",
                    "required-channel"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("UpdatePreferencesCommand - At least one channel must be enabled", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I execute UpdatePreferencesCommand to disable all channels", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with ValidationException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error message should contain \"at least one notification channel\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="UpdatePreferencesCommand - Can only update own preferences")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Command Handlers - Complete Coverage")]
        [Xunit.TraitAttribute("Description", "UpdatePreferencesCommand - Can only update own preferences")]
        [Xunit.TraitAttribute("Category", "command")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        [Xunit.TraitAttribute("Category", "update")]
        [Xunit.TraitAttribute("Category", "authorization")]
        public async System.Threading.Tasks.Task UpdatePreferencesCommand_CanOnlyUpdateOwnPreferences()
        {
            string[] tagsOfScenario = new string[] {
                    "command",
                    "notification",
                    "preferences",
                    "update",
                    "authorization"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("UpdatePreferencesCommand - Can only update own preferences", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("another user exists", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I try to update their notification preferences", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the command should fail with ForbiddenException", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [System.CodeDom.Compiler.GeneratedCodeAttribute("Reqnroll", "2.0.0.0")]
        [System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
        public class FixtureData : object, Xunit.IAsyncLifetime
        {
            
            async System.Threading.Tasks.Task Xunit.IAsyncLifetime.InitializeAsync()
            {
                await NotificationCommandHandlers_CompleteCoverageFeature.FeatureSetupAsync();
            }
            
            async System.Threading.Tasks.Task Xunit.IAsyncLifetime.DisposeAsync()
            {
                await NotificationCommandHandlers_CompleteCoverageFeature.FeatureTearDownAsync();
            }
        }
    }
}
#pragma warning restore
#endregion
