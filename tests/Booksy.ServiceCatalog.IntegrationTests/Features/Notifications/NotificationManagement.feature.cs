// ------------------------------------------------------------------------------
//  <auto-generated>
//      This code was generated by Reqnroll (https://www.reqnroll.net/).
//      Reqnroll Version:2.0.0.0
//      Reqnroll Generator Version:2.0.0.0
// 
//      Changes to this file may cause incorrect behavior and will be lost if
//      the code is regenerated.
//  </auto-generated>
// ------------------------------------------------------------------------------
#region Designer generated code
#pragma warning disable
namespace Booksy.ServiceCatalog.IntegrationTests.Features.Notifications
{
    using Reqnroll;
    using System;
    using System.Linq;
    
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("Reqnroll", "2.0.0.0")]
    [System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
    public partial class NotificationManagementFeature : object, Xunit.IClassFixture<NotificationManagementFeature.FixtureData>, Xunit.IAsyncLifetime
    {
        
        private global::Reqnroll.ITestRunner testRunner;
        
        private static string[] featureTags = ((string[])(null));
        
        private static global::Reqnroll.FeatureInfo featureInfo = new global::Reqnroll.FeatureInfo(new System.Globalization.CultureInfo("en"), "Features/Notifications", "Notification Management", "  As a system and provider\r\n  I want to send and manage notifications\r\n  So that " +
                "users are informed about important events", global::Reqnroll.ProgrammingLanguage.CSharp, featureTags);
        
        private Xunit.Abstractions.ITestOutputHelper _testOutputHelper;
        
        public NotificationManagementFeature(NotificationManagementFeature.FixtureData fixtureData, Xunit.Abstractions.ITestOutputHelper testOutputHelper)
        {
            this._testOutputHelper = testOutputHelper;
        }
        
        public static async System.Threading.Tasks.Task FeatureSetupAsync()
        {
        }
        
        public static async System.Threading.Tasks.Task FeatureTearDownAsync()
        {
        }
        
        public async System.Threading.Tasks.Task TestInitializeAsync()
        {
            testRunner = global::Reqnroll.TestRunnerManager.GetTestRunnerForAssembly(featureHint: featureInfo);
            if (((testRunner.FeatureContext != null) 
                        && (testRunner.FeatureContext.FeatureInfo.Equals(featureInfo) == false)))
            {
                await testRunner.OnFeatureEndAsync();
            }
            if ((testRunner.FeatureContext == null))
            {
                await testRunner.OnFeatureStartAsync(featureInfo);
            }
        }
        
        public async System.Threading.Tasks.Task TestTearDownAsync()
        {
            await testRunner.OnScenarioEndAsync();
            global::Reqnroll.TestRunnerManager.ReleaseTestRunner(testRunner);
        }
        
        public void ScenarioInitialize(global::Reqnroll.ScenarioInfo scenarioInfo)
        {
            testRunner.OnScenarioInitialize(scenarioInfo);
            testRunner.ScenarioContext.ScenarioContainer.RegisterInstanceAs<Xunit.Abstractions.ITestOutputHelper>(_testOutputHelper);
        }
        
        public async System.Threading.Tasks.Task ScenarioStartAsync()
        {
            await testRunner.OnScenarioStartAsync();
        }
        
        public async System.Threading.Tasks.Task ScenarioCleanupAsync()
        {
            await testRunner.CollectScenarioErrorsAsync();
        }
        
        public virtual async System.Threading.Tasks.Task FeatureBackgroundAsync()
        {
            await testRunner.GivenAsync("a provider \"Test Salon\" exists with active status", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
            await testRunner.AndAsync("I am authenticated as a customer", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
        }
        
        async System.Threading.Tasks.Task Xunit.IAsyncLifetime.InitializeAsync()
        {
            await this.TestInitializeAsync();
        }
        
        async System.Threading.Tasks.Task Xunit.IAsyncLifetime.DisposeAsync()
        {
            await this.TestTearDownAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Send an email notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Send an email notification")]
        [Xunit.TraitAttribute("Category", "smoke")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "email")]
        public async System.Threading.Tasks.Task SendAnEmailNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "smoke",
                    "notification",
                    "send",
                    "email"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Send an email notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table108 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table108.AddRow(new string[] {
                            "Type",
                            "BookingConfirmation"});
                table108.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table108.AddRow(new string[] {
                            "Subject",
                            "Booking Confirmed"});
                table108.AddRow(new string[] {
                            "Body",
                            "Your booking has been confirmed"});
                table108.AddRow(new string[] {
                            "Priority",
                            "High"});
                table108.AddRow(new string[] {
                            "RecipientEmail",
                            "customer@test.com"});
                await testRunner.WhenAsync("I send a POST request to create a notification with:", ((string)(null)), table108, "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be created successfully", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification should exist in the database", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Send an SMS notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Send an SMS notification")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "send")]
        [Xunit.TraitAttribute("Category", "sms")]
        public async System.Threading.Tasks.Task SendAnSMSNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "send",
                    "sms"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Send an SMS notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table109 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table109.AddRow(new string[] {
                            "Type",
                            "BookingReminder"});
                table109.AddRow(new string[] {
                            "Channel",
                            "SMS"});
                table109.AddRow(new string[] {
                            "Body",
                            "Reminder: Appointment tomorrow"});
                table109.AddRow(new string[] {
                            "Priority",
                            "Normal"});
                table109.AddRow(new string[] {
                            "RecipientPhone",
                            "+1234567890"});
                await testRunner.WhenAsync("I send a POST request to create an SMS notification with:", ((string)(null)), table109, "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the SMS notification should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Schedule a future notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Schedule a future notification")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "schedule")]
        public async System.Threading.Tasks.Task ScheduleAFutureNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "schedule"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Schedule a future notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                global::Reqnroll.Table table110 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table110.AddRow(new string[] {
                            "Type",
                            "BookingReminder"});
                table110.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table110.AddRow(new string[] {
                            "Subject",
                            "Upcoming Appointment"});
                table110.AddRow(new string[] {
                            "Body",
                            "You have an appointment tomorrow"});
                table110.AddRow(new string[] {
                            "ScheduledFor",
                            "tomorrow at 09:00"});
                table110.AddRow(new string[] {
                            "Priority",
                            "Normal"});
                table110.AddRow(new string[] {
                            "RecipientEmail",
                            "customer@test.com"});
                await testRunner.WhenAsync("I send a POST request to schedule a notification:", ((string)(null)), table110, "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification should be scheduled for the future", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("the notification status should be \"Scheduled\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Send bulk notifications to multiple recipients")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Send bulk notifications to multiple recipients")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "bulk")]
        public async System.Threading.Tasks.Task SendBulkNotificationsToMultipleRecipients()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "bulk"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Send bulk notifications to multiple recipients", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("there are 10 customers in the system", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                global::Reqnroll.Table table111 = new global::Reqnroll.Table(new string[] {
                            "Field",
                            "Value"});
                table111.AddRow(new string[] {
                            "Type",
                            "Announcement"});
                table111.AddRow(new string[] {
                            "Channel",
                            "Email"});
                table111.AddRow(new string[] {
                            "Subject",
                            "New Services Available"});
                table111.AddRow(new string[] {
                            "Body",
                            "Check out our new services"});
                table111.AddRow(new string[] {
                            "Priority",
                            "Low"});
                await testRunner.WhenAsync("I send a POST request to send bulk notification:", ((string)(null)), table111, "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("10 notifications should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("all notifications should be queued for sending", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Cancel a scheduled notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Cancel a scheduled notification")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "cancel")]
        public async System.Threading.Tasks.Task CancelAScheduledNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "cancel"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Cancel a scheduled notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have a scheduled notification for tomorrow", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a POST request to cancel the notification with reason \"Customer cancelled " +
                        "appointment\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the notification status should be \"Cancelled\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Resend a failed notification")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Resend a failed notification")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "resend")]
        public async System.Threading.Tasks.Task ResendAFailedNotification()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "resend"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Resend a failed notification", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have a failed notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a POST request to resend the notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("a new notification attempt should be created", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="User views their notification history")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "User views their notification history")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "history")]
        [Xunit.TraitAttribute("Category", "user")]
        public async System.Threading.Tasks.Task UserViewsTheirNotificationHistory()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "history",
                    "user"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("User views their notification history", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have received 5 notifications in the past week", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a GET request to \"/api/v1/notifications/history\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the response should contain 5 notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("notifications should be ordered by date descending", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Filter notification history by type")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Filter notification history by type")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "history")]
        [Xunit.TraitAttribute("Category", "filter")]
        [Xunit.TraitAttribute("Category", "type")]
        public async System.Threading.Tasks.Task FilterNotificationHistoryByType()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "history",
                    "filter",
                    "type"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Filter notification history by type", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have notifications of various types", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a GET request to \"/api/v1/notifications/history?type=BookingConfirmation\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("all returned notifications should be of type \"BookingConfirmation\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Filter notification history by channel")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Filter notification history by channel")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "history")]
        [Xunit.TraitAttribute("Category", "filter")]
        [Xunit.TraitAttribute("Category", "channel")]
        public async System.Threading.Tasks.Task FilterNotificationHistoryByChannel()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "history",
                    "filter",
                    "channel"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Filter notification history by channel", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have notifications sent via Email and SMS", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a GET request to \"/api/v1/notifications/history?channel=Email\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("all returned notifications should be Email notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Check notification delivery status")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Check notification delivery status")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "status")]
        public async System.Threading.Tasks.Task CheckNotificationDeliveryStatus()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "status"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Check notification delivery status", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have sent a notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I send a GET request to check the notification status", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the response should contain delivery status and timestamps", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="View notification analytics")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "View notification analytics")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "analytics")]
        public async System.Threading.Tasks.Task ViewNotificationAnalytics()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "analytics"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("View notification analytics", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as an admin", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.AndAsync("there have been 100 notifications sent in the last month", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.WhenAsync("I send a GET request to \"/api/v1/notifications/analytics\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 200", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                global::Reqnroll.Table table112 = new global::Reqnroll.Table(new string[] {
                            "Metric"});
                table112.AddRow(new string[] {
                            "TotalSent"});
                table112.AddRow(new string[] {
                            "SuccessfulDeliveries"});
                table112.AddRow(new string[] {
                            "FailedDeliveries"});
                table112.AddRow(new string[] {
                            "OpenRate"});
                table112.AddRow(new string[] {
                            "ClickRate"});
                await testRunner.AndAsync("the response should include:", ((string)(null)), table112, "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Provider views their notification analytics")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Provider views their notification analytics")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "analytics")]
        [Xunit.TraitAttribute("Category", "provider")]
        public async System.Threading.Tasks.Task ProviderViewsTheirNotificationAnalytics()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "analytics",
                    "provider"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Provider views their notification analytics", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as the provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I request notification analytics for my provider", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response should show statistics for my notifications only", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Use notification template")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Use notification template")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "template")]
        public async System.Threading.Tasks.Task UseNotificationTemplate()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "template"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Use notification template", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("a notification template \"booking_confirmation\" exists", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                global::Reqnroll.Table table113 = new global::Reqnroll.Table(new string[] {
                            "Variable",
                            "Value"});
                table113.AddRow(new string[] {
                            "customerName",
                            "John Doe"});
                table113.AddRow(new string[] {
                            "bookingTime",
                            "Tomorrow at 2 PM"});
                table113.AddRow(new string[] {
                            "serviceName",
                            "Haircut"});
                await testRunner.WhenAsync("I send a notification using the template with variables:", ((string)(null)), table113, "When ");
                await testRunner.ThenAsync("the notification should be populated with template content", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("variables should be replaced with actual values", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Respect user notification preferences")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Respect user notification preferences")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "preferences")]
        public async System.Threading.Tasks.Task RespectUserNotificationPreferences()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "preferences"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Respect user notification preferences", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I have disabled SMS notifications in my preferences", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("the system tries to send me an SMS notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the notification should not be sent", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("an Email notification should be sent instead", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Cannot send notification without recipient")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Cannot send notification without recipient")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "negative")]
        [Xunit.TraitAttribute("Category", "missing-recipient")]
        public async System.Threading.Tasks.Task CannotSendNotificationWithoutRecipient()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "negative",
                    "missing-recipient"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Cannot send notification without recipient", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I send a POST request to create a notification without recipient info", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 400", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("the error should indicate missing recipient", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Cannot send notification with invalid channel")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Cannot send notification with invalid channel")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "negative")]
        [Xunit.TraitAttribute("Category", "invalid-channel")]
        public async System.Threading.Tasks.Task CannotSendNotificationWithInvalidChannel()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "negative",
                    "invalid-channel"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Cannot send notification with invalid channel", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I send a POST request with channel \"InvalidChannel\"", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 400", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Customer cannot send bulk notifications")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Customer cannot send bulk notifications")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "negative")]
        [Xunit.TraitAttribute("Category", "unauthorized")]
        [Xunit.TraitAttribute("Category", "bulk")]
        public async System.Threading.Tasks.Task CustomerCannotSendBulkNotifications()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "negative",
                    "unauthorized",
                    "bulk"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Customer cannot send bulk notifications", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("I am authenticated as a customer", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("I try to send bulk notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the response status code should be 403", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Failed notifications are automatically retried")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Failed notifications are automatically retried")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "retry")]
        public async System.Threading.Tasks.Task FailedNotificationsAreAutomaticallyRetried()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "retry"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Failed notifications are automatically retried", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.GivenAsync("a notification failed to send", ((string)(null)), ((global::Reqnroll.Table)(null)), "Given ");
                await testRunner.WhenAsync("the retry mechanism runs", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("the notification should be attempted again", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("retry count should be incremented", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="High priority notifications are sent immediately")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "High priority notifications are sent immediately")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "priority")]
        [Xunit.TraitAttribute("Category", "high")]
        public async System.Threading.Tasks.Task HighPriorityNotificationsAreSentImmediately()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "priority",
                    "high"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("High priority notifications are sent immediately", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I send a high priority notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("it should be processed immediately", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("it should not be queued", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="Low priority notifications are batched")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "Low priority notifications are batched")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "priority")]
        [Xunit.TraitAttribute("Category", "low")]
        public async System.Threading.Tasks.Task LowPriorityNotificationsAreBatched()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "priority",
                    "low"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("Low priority notifications are batched", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I send a low priority notification", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("it should be queued for batch processing", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("it may be delayed up to configured batch interval", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [Xunit.SkippableFactAttribute(DisplayName="User unsubscribes from marketing notifications")]
        [Xunit.TraitAttribute("FeatureTitle", "Notification Management")]
        [Xunit.TraitAttribute("Description", "User unsubscribes from marketing notifications")]
        [Xunit.TraitAttribute("Category", "notification")]
        [Xunit.TraitAttribute("Category", "unsubscribe")]
        public async System.Threading.Tasks.Task UserUnsubscribesFromMarketingNotifications()
        {
            string[] tagsOfScenario = new string[] {
                    "notification",
                    "unsubscribe"};
            System.Collections.Specialized.OrderedDictionary argumentsOfScenario = new System.Collections.Specialized.OrderedDictionary();
            global::Reqnroll.ScenarioInfo scenarioInfo = new global::Reqnroll.ScenarioInfo("User unsubscribes from marketing notifications", null, tagsOfScenario, argumentsOfScenario, featureTags);
            this.ScenarioInitialize(scenarioInfo);
            if ((global::Reqnroll.TagHelper.ContainsIgnoreTag(scenarioInfo.CombinedTags) || global::Reqnroll.TagHelper.ContainsIgnoreTag(featureTags)))
            {
                testRunner.SkipScenario();
            }
            else
            {
                await this.ScenarioStartAsync();
                await this.FeatureBackgroundAsync();
                await testRunner.WhenAsync("I click the unsubscribe link in a marketing email", ((string)(null)), ((global::Reqnroll.Table)(null)), "When ");
                await testRunner.ThenAsync("my preference should be updated", ((string)(null)), ((global::Reqnroll.Table)(null)), "Then ");
                await testRunner.AndAsync("I should not receive marketing notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
                await testRunner.AndAsync("I should still receive transactional notifications", ((string)(null)), ((global::Reqnroll.Table)(null)), "And ");
            }
            await this.ScenarioCleanupAsync();
        }
        
        [System.CodeDom.Compiler.GeneratedCodeAttribute("Reqnroll", "2.0.0.0")]
        [System.Runtime.CompilerServices.CompilerGeneratedAttribute()]
        public class FixtureData : object, Xunit.IAsyncLifetime
        {
            
            async System.Threading.Tasks.Task Xunit.IAsyncLifetime.InitializeAsync()
            {
                await NotificationManagementFeature.FeatureSetupAsync();
            }
            
            async System.Threading.Tasks.Task Xunit.IAsyncLifetime.DisposeAsync()
            {
                await NotificationManagementFeature.FeatureTearDownAsync();
            }
        }
    }
}
#pragma warning restore
#endregion
